---
name: xhs:analyze-url
description: 分析URL/图片/文本内容，提取爆款元素，提供改编建议
argument-hint: (--url <URL> | --image <路径> | --text <内容>)
allowed-tools:
  - Read
  - Write
  - Bash
  - AskUserQuestion
---

# 分析内容命令

本命令分析用户提供的URL、图片或文本，提取爆款元素并提供改编建议。

## 使用方式

```bash
# 分析URL
/xhs:analyze-url --url "https://www.xiaohongshu.com/explore/..."

# 分析图片
/xhs:analyze-url --image "/path/to/image.jpg"

# 分析文本
/xhs:analyze-url --text "要分析的文本内容"
```

## 执行流程

### 场景1：URL分析

#### 第一步：提取内容

调用现有的小红书内容提取工具：

```bash
python /home/jarvisren/workdir/self_project/MyMediaProject/src/tools/get_xhs_content.py <url>
```

#### 第二步：分析内容结构

1. **标题分析**
   - 长度和结构
   - 关键词和符号使用
   - 吸引力评估

2. **正文分析**
   - 开头策略
   - 内容结构
   - emoji使用
   - 价值点识别

3. **配图分析**
   - 图片数量
   - 图片风格
   - 视觉呈现

4. **标签分析**
   - 标签数量和类型
   - 热门标签识别

#### 第三步：爆款元素提取

识别内容中的成功要素：

- **情绪触点**：触动用户的情感点
- **价值点**：提供的信息或实用价值
- **独特角度**：差异化内容
- **互动设计**：引导用户互动的方式
- **视觉亮点**：吸引眼球的设计

#### 第四步：改编建议

基于用户人设提供改编方向：

- **角度转换**：如何适配你的人设
- **内容增减**：保留什么，添加什么
- **风格调整**：如何改变表达方式
- **差异化**：如何做出特色

### 场景2：图片分析

#### 第一步：识别图片内容

- 主题识别
- 风格判断
- 文字提取（如有）

#### 第二步：提取创作灵感

- 图片表达的主题
- 可借鉴的视觉风格
- 潜在的内容方向

### 场景3：文本分析

#### 第一步：提炼核心内容

- 主要观点
- 论证逻辑
- 价值亮点

#### 第二步：分析可借鉴点

- 结构特点
- 表达技巧
- 可优化的地方

## 输出格式

```markdown
# 内容分析报告

## 原始内容信息
- 来源：[URL/图片/文本]
- 分析时间：[时间戳]

## 内容结构分析

### 标题分析
**原标题**：[标题]
**评价**：
- 长度：[字数] - [符合/不符合]标准
- 吸引力：[评分]/5
- 关键词：[识别出的关键词]
- 符号使用：[emoji使用情况]

**优化建议**：[如何改进]

### 正文分析
**开头**：[开头内容]
- 评价：[吸引/一般/需改进]

**结构**：
- 段落数：[数量]
- emoji使用：[数量]
- 分隔方式：[使用的分隔符]

**价值点**：
1. [价值点1]
2. [价值点2]
3. [价值点3]

### 配图分析
- 图片数量：[数量]
- 图片风格：[风格描述]
- 视觉特点：[特点]

### 标签分析
**标签列表**：[标签]
- 数量：[数量] - [符合/不符合]标准
- 类型分布：
  - 热门标签：[数量]个
  - 精准标签：[数量]个
  - 品牌标签：[数量]个

## 爆款元素提取

### 情绪触点
- [触点1]：[说明]
- [触点2]：[说明]

### 价值点
- [价值1]：[说明]
- [价值2]：[说明]

### 独特角度
- [角度1]：[说明]
- [角度2]：[说明]

### 互动设计
- [设计1]：[说明]
- [设计2]：[说明]

## 改编建议

### 角度转换
**原内容角度**：[原角度]
**你的人设角度**：[建议角度]
**转换方法**：[具体方法]

### 内容调整
**保留内容**：
- [要保留的元素]
- [要保留的元素]

**新增内容**：
- [建议添加的内容]
- [建议添加的内容]

**删除或修改**：
- [需要调整的部分]

### 风格适配
**原风格**：[风格描述]
**目标风格**：[适配后的风格]
**调整建议**：[具体建议]

### 差异化方向
1. [差异化方向1]
2. [差异化方向2]
3. [差异化方向3]

## 创作方向建议

### 标题建议
1. [改编标题1]
2. [改编标题2]
3. [改编标题3]

### 内容框架
- 开头：[建议]
- 主体：[建议]
- 结尾：[建议]

### 配图建议
- 数量：[建议数量]
- 风格：[建议风格]
- 内容：[图片内容建议]

## 下一步行动
使用 `/xhs:create-post --topic "改编后的主题"` 开始创作
```

## 交互提示

### 内容类型选择

```
请选择要分析的内容类型：

1. URL链接 - 分析小红书帖子链接
2. 图片 - 分析图片内容和风格
3. 文本 - 分析提供的文本

请输入选项 (1-3)：
```

### 人设确认

```
请确认要适配的人设：

当前人设：[人设名称]
是否使用此人设进行改编？(y/n)：

如需更换，请输入新人设名称：
```

## 注意事项

1. **版权尊重**：分析和改编时注意知识产权
2. **原创性**：改编不是抄袭，要有自己的创新
3. **人设一致**：改编内容要符合你的人设定位
4. **价值提升**：改编应该比原内容更有价值

## 错误处理

- URL无效：提示检查链接格式
- 内容提取失败：提示提供完整URL
- 图片无法识别：建议提供清晰图片
- 文本为空：提示输入内容
