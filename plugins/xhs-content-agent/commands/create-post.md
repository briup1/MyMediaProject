---
name: xhs:create-post
description: 交互式创建小红书帖子 - 从选题研究到内容生成的完整流程
argument-hint: [--topic <主题>] [--persona <人设>] [--account <账号>]
allowed-tools:
  - Read
  - Write
  - Edit
  - Bash
  - AskUserQuestion
---

# 小红书帖子创建命令

本命令提供交互式的小红书帖子创建流程。

## 使用方式

```bash
/xhs:create-post
```

可选参数：
- `--topic`：直接指定主题，跳过选题环节
- `--persona`：指定人设名称（从personas/目录选择）
- `--account`：指定目标账号名称

## 执行流程

### 第一步：选择创作来源

询问用户内容创作来源：

1. **热榜选题**：分析热榜，选择爆款话题
2. **URL分析**：提供URL，分析和改编内容
3. **图片/文本**：提供素材，基于素材创作
4. **自定义主题**：直接指定创作主题

### 第二步：选题研究（如需要）

如果用户选择热榜或需要分析：

1. 调用 `topic-researcher` agent 进行选题分析
2. 展示选题建议（按潜力排序）
3. 用户选择最终选题

### 第三步：加载人设

1. 询问用户人设选择
2. 从 `personas/` 目录读取人设文件
3. 理解人设的语调、风格、目标受众

### 第四步：生成内容

1. 使用 `xhs-content-creation` skill 的指导
2. 基于选题和人设生成帖子
3. 生成标题、正文、标签

### 第五步：创建目录结构

1. 确定目标账号名称
2. 创建标准目录结构：
   ```
   文案生成/小红书自媒体帖子/<账号>/<帖子标题>_<时间戳>/
   ├── drafts/          # 草稿版本
   ├── research/        # 研究资料
   ├── downloads/       # 配图
   ├── final/           # 最终版本
   ├── 帖子信息.md      # 元数据
   └── content.md       # 帖子内容
   ```

3. 保存生成的帖子到 `drafts/` 目录

### 第六步：下一步引导

告知用户后续可执行的操作：

- `/xhs:optimize-post` - 优化帖子内容
- `/xhs:generate-images` - 生成配图
- `/xhs:publish` - 发布到平台

## 交互提示

### 创作来源选择

```
请选择内容创作来源：

1. 热榜选题 - 分析当前热门话题
2. URL分析 - 分析提供的链接内容
3. 图片/文本 - 基于素材进行创作
4. 自定义主题 - 直接输入主题

请输入选项 (1-4)：
```

### 人设选择

```
请选择人设风格：

可用的人设：
1. 幼师都市独立女性 - 温柔知性，关注成长
2. AI开发工程师 - 专业理性，技术分享
3. [其他人设...]

请输入选项或人设名称：
```

### 确认信息

```
📝 帖子创建确认

选题：[选题标题]
人设：[人设名称]
账号：[账号名称]

是否确认创建？(y/n)：
```

## 输出示例

```markdown
✅ 帖子创建成功！

📁 保存位置：文案生成/小红书自媒体帖了/AI知识账号/提升办公效率的AI工具_20250114_153045/

📄 生成的文件：
- drafts/content.md（帖子草稿）
- research/选题分析.md（选题研究）
- 帖子信息.md（元数据）

📊 帖子信息：
- 标题：5个AI工具让你的办公效率翻倍！
- 字数：约800字
- 标签：6个

🎯 下一步：
1. 使用 /xhs:optimize-post 优化内容
2. 使用 /xhs:generate-images 生成配图
3. 使用 /xhs:publish 发布到平台

或者直接编辑 drafts/content.md 进行修改
```

## 注意事项

1. **目录创建**：确保有权限创建目录
2. **人设文件**：确保personas/目录中有人设文件
3. **内容质量**：生成的内容需要人工审核和调整
4. **备份**：重要内容建议备份

## 错误处理

- 人设文件不存在：提示用户创建或选择其他人设
- 目录创建失败：检查权限和路径
- 内容生成失败：提供错误信息和建议
